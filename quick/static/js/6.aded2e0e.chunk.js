(this["webpackJsonpinterface-v2"]=this["webpackJsonpinterface-v2"]||[]).push([[6],{2791:function(e,t,n){},2798:function(e,t,n){"use strict";var c=n(1),a=n.n(c),s=n(116),r=n(131),i=n(2714),o=n(2756),l=n(2835),u=n(23),d=n(31),b=n(16),j=n(2),p=n.n(j),O=n(407),m=n(72),f=n(73),h=n(9),x=n(21),k=n(233),v=n(3),y=n(46),g=(n(2800),n(2713)),w=n(88),N=n.n(w),C=n(655),S=n.n(C),T=n(406),E=n(107),R=n(0);N.a.extend(S.a);var A=function(){var e=Object(g.a)().t,t=Object(s.f)(),n=Object(c.useState)(""),a=Object(b.a)(n,2),r=a[0],i=a[1],l=Object(T.a)(r,i),j=Object(b.a)(l,2),w=j[0],C=j[1],S=Object(c.useState)(!1),A=Object(b.a)(S,2),U=A[0],q=A[1],L=Object(c.useRef)(null),W=Object(c.useRef)(null),D=Object(c.useState)([]),M=Object(b.a)(D,2),I=M[0],V=M[1],P=Object(c.useState)([]),z=Object(b.a)(P,2),B=z[0],F=z[1],K=Object(c.useState)(3),H=Object(b.a)(K,2),J=H[0],$=H[1],_=Object(c.useState)(3),Y=Object(b.a)(_,2),G=Y[0],Q=Y[1],X=Object(E.d)(),Z=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},ee=Object(c.useMemo)((function(){var e=[],t={};return I&&I.length>0&&I.map((function(n){return t[n.id]||(t[n.id]=!0,e.push(n)),!0})),e&&e.length>0?e.sort((function(e,t){return e.oneDayVolumeUSD>t.oneDayVolumeUSD?-1:1})).filter((function(e){return!x.a.blacklists.TOKEN_BLACKLIST.includes(e.id)&&Object.keys(e).map((function(t){var n="0x"===r.slice(0,2);return"id"===t&&n?e[t].match(new RegExp(Z(r),"i")):"symbol"!==t||n?"name"===t&&!n&&e[t].match(new RegExp(Z(r),"i")):e[t].match(new RegExp(Z(r),"i"))})).some((function(e){return e}))})):[]}),[I,r]),te=Object(c.useMemo)((function(){var e=[],t={};return B&&B.length>0&&B.map((function(n){return t[n.id]||(t[n.id]=!0,e.push(n)),!0})),e?e.sort((function(e,t){var n,c;return Number(null!==(n=null===e||void 0===e?void 0:e.trackedReserveETH)&&void 0!==n?n:0)>Number(null!==(c=null===t||void 0===t?void 0:t.trackedReserveETH)&&void 0!==c?c:0)?-1:1})).filter((function(e){if(x.a.blacklists.PAIR_BLACKLIST.includes(e.id))return!1;if(r&&r.includes(" ")){var t,n,c=null===(t=r.split(" ")[0])||void 0===t?void 0:t.toUpperCase(),a=null===(n=r.split(" ")[1])||void 0===n?void 0:n.toUpperCase();return(e.token0.symbol.includes(c)||e.token0.symbol.includes(a))&&(e.token1.symbol.includes(c)||e.token1.symbol.includes(a))}if(r&&r.includes("-")){var s,i,o=null===(s=r.split("-")[0])||void 0===s?void 0:s.toUpperCase(),l=null===(i=r.split("-")[1])||void 0===i?void 0:i.toUpperCase();return(e.token0.symbol.includes(o)||e.token0.symbol.includes(l))&&(e.token1.symbol.includes(o)||e.token1.symbol.includes(l))}return Object.keys(e).map((function(t){var n="0x"===r.slice(0,2);return"id"===t&&n?e[t].match(new RegExp(Z(r),"i")):("token0"===t||"token1"===t)&&(e[t].symbol.match(new RegExp(Z(r),"i"))||e[t].name.match(new RegExp(Z(r),"i")))})).some((function(e){return e}))})):[]}),[B,r]);Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(p.a.mark((function e(){var t,n,c,a,s,i,o,l,b,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.p)();case 3:return t=e.sent,e.next=6,Object(h.o)();case 6:if(n=e.sent,c=null!==t&&void 0!==t?t:[],a=null!==n&&void 0!==n?n:[],!(r.length>0)){e.next=20;break}return e.next=12,m.b.query({query:f.B,variables:{value:r?r.toUpperCase():"",id:r}});case 12:return i=e.sent,e.next=15,m.b.query({query:f.r,variables:{tokens:null===(s=i.data.asSymbol)||void 0===s?void 0:s.map((function(e){return e.id})),id:r}});case 15:o=e.sent,l=o.data.as0.concat(o.data.as1).concat(o.data.asAddress),a=a.concat(l.filter((function(e){var t=!1;return a.map((function(n){return n.id===e.id&&(t=!0),!0})),!t}))),b=i.data.asSymbol.concat(i.data.asAddress).concat(i.data.asName),c=c.concat(b.filter((function(e){var t=!1;return c.map((function(n){return n.id===e.id&&(t=!0),!0})),!t})));case 20:return e.next=22,Promise.all(c.map(function(){var e=Object(d.a)(p.a.mark((function e(t){var n,c,a,s,r,i,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N()(),c=n.subtract(1,"day").unix(),e.next=4,Object(h.q)(c);case 4:return a=e.sent,e.next=7,m.b.query({query:Object(f.A)(a,t.id),fetchPolicy:"network-only"});case 7:if(!((s=e.sent)&&s.data&&s.data.tokens&&s.data.tokens.length>0)){e.next=12;break}return o=s.data.tokens[0],l=(null!==(r=null===t||void 0===t?void 0:t.tradeVolumeUSD)&&void 0!==r?r:0)-(null!==(i=null===o||void 0===o?void 0:o.tradeVolumeUSD)&&void 0!==i?i:0),e.abrupt("return",Object(u.a)(Object(u.a)({},t),{},{oneDayVolumeUSD:l}));case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 22:j=e.sent,V(j),F(a),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),console.log(e.t0);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]);var ne=function(e){L.current&&L.current.contains(e.target)||W.current&&W.current.contains(e.target)||(Q(3),$(3),q(!1))};return Object(c.useEffect)((function(){return document.addEventListener("click",ne),function(){document.removeEventListener("click",ne)}}),[]),Object(R.jsxs)(o.a,{className:"searchWidgetWrapper",children:[Object(R.jsxs)(o.a,{className:"searchWidgetInput",children:[Object(R.jsx)("input",{placeholder:e("searchTokenPair"),value:w,ref:L,onFocus:function(){return q(!0)},onChange:function(e){return C(e.target.value)}}),Object(R.jsx)(o.a,{display:"flex",children:Object(R.jsx)(O.a,{})})]}),U&&Object(R.jsxs)("div",{ref:W,className:"searchWidgetContent",children:[Object(R.jsx)("h6",{children:e("pairs")}),te.slice(0,G).map((function(n,c){var a=Object(h.ab)(n.token0.id,x.d,X,[new v.Token(x.d,Object(y.getAddress)(n.token0.id),n.token0.decimals)]),s=Object(h.ab)(n.token1.id,x.d,X,[new v.Token(x.d,Object(y.getAddress)(n.token1.id),n.token1.decimals)]);return Object(R.jsxs)(o.a,{className:"searchWidgetRow",onClick:function(){t.push("/analytics/pair/".concat(n.id)),q(!1)},children:[Object(R.jsx)(k.y,{currency0:a,currency1:s,size:28}),Object(R.jsxs)("small",{children:[n.token0.symbol," - ",n.token1.symbol," ",e("pair")]})]},c)})),Object(R.jsx)(o.a,{className:"searchWidgetShowMore",onClick:function(){return Q(G+5)},children:Object(R.jsx)("small",{children:e("showMore")})}),Object(R.jsx)("h6",{children:e("tokens")}),ee.slice(0,J).map((function(e,n){var c=Object(h.ab)(Object(y.getAddress)(e.id),x.d,X,[new v.Token(x.d,Object(y.getAddress)(e.id),e.decimals)]);return Object(R.jsxs)(o.a,{className:"searchWidgetRow",onClick:function(){t.push("/analytics/token/".concat(e.id)),q(!1)},children:[Object(R.jsx)(k.q,{currency:c,size:"28px"}),Object(R.jsxs)("small",{children:[e.name," (",e.symbol,")"]})]},n)})),Object(R.jsx)(o.a,{className:"searchWidgetShowMore",onClick:function(){return $(J+5)},children:Object(R.jsx)("small",{children:e("showMore")})})]})]})},U=a.a.memo(A),q=(n(2791),n(653));t.a=function(e){var t=e.data,n=e.type,c=Object(s.f)(),a=Object(s.g)().pathname,u=Object(g.a)().t,d=Object(r.a)().breakpoints,b=Object(i.a)(d.down("xs"));return Object(R.jsxs)(o.a,{width:"100%",mb:3,children:[Object(R.jsx)(o.a,{mb:3,children:Object(R.jsx)("h4",{children:u("quickswapAnalytics")})}),Object(R.jsx)(o.a,{maxWidth:b?"320px":"1136px",margin:"0 auto 24px",children:Object(R.jsx)(q.a,{sort:"analytics"})}),Object(R.jsxs)(o.a,{mb:4,position:"relative",className:"flex justify-between flex-wrap",children:[Object(R.jsxs)(o.a,{marginY:1.5,className:"flex items-center",children:[n&&t&&Object(R.jsxs)(o.a,{className:"flex items-center text-hint",children:[Object(R.jsx)("span",{className:"link",onClick:function(){c.push("/analytics")},children:u("analytics")}),Object(R.jsx)(l.a,{style:{width:16}}),Object(R.jsx)("span",{className:"link",onClick:function(){c.push("/analytics/".concat(n,"s"))},children:u("token"===n?"tokens":"pairs")}),Object(R.jsx)(l.a,{style:{width:16}}),Object(R.jsxs)("span",{children:[Object(R.jsx)("span",{className:"text-gray19",children:"token"===n?t.symbol:"".concat(t.token0.symbol,"/").concat(t.token1.symbol)}),"(",Object(h.rb)(t.id),")"]})]}),!n&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(o.a,{className:"topTab ".concat(-1===a.indexOf("pair")&&-1===a.indexOf("token")&&"selectedTab"),onClick:function(){return c.push("/analytics")},children:Object(R.jsx)("p",{children:u("overview")})}),Object(R.jsx)(o.a,{className:"topTab ".concat(a.indexOf("token")>-1&&"selectedTab"),onClick:function(){return c.push("/analytics/tokens")},children:Object(R.jsx)("p",{children:u("tokens")})}),Object(R.jsx)(o.a,{className:"topTab ".concat(a.indexOf("pair")>-1&&"selectedTab"),onClick:function(){return c.push("/analytics/pairs")},children:Object(R.jsx)("p",{children:u("pairs")})})]})]}),Object(R.jsx)(U,{})]})]})}},2800:function(e,t,n){},2835:function(e,t,n){"use strict";var c=n(1),a=n(143);t.a=Object(a.a)(c.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),"ArrowForwardIos")},3032:function(e,t,n){"use strict";n.r(t);var c=n(2798);n.d(t,"default",(function(){return c.a}))}}]);
//# sourceMappingURL=6.aded2e0e.chunk.js.map