{"version":3,"sources":["pages/AnalyticsPage/AnalyticsTokens.tsx"],"names":["AnalyticsTokens","t","useTranslation","useState","tokensFilter","setTokensFilter","topTokens","updateTopTokens","bookmarkTokens","useBookmarkTokens","ethPrice","useEthPrice","favoriteTokens","useMemo","filter","token","indexOf","id","useEffect","a","price","oneDayPrice","getTopTokens","GlobalConst","utils","ANALYTICS_TOKENS_COUNT","topTokensData","fetchTopTokens","width","mb","hideArrow","my","px","className","onClick","length","data","variant","height"],"mappings":"6OAmFeA,UA1EmB,WAChC,IAAQC,EAAMC,cAAND,EACR,EAAwCE,mBAAS,GAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KAEA,EAAqCF,mBAAuB,MAA5D,mBAAOG,EAAP,KAAkBC,EAAlB,KACQC,EAAmBC,cAAnBD,eACAE,EAAaC,cAAbD,SAEFE,EAAiBC,mBAAQ,WAC7B,OAAIP,EACKA,EAAUQ,QACf,SAACC,GAAD,OAAgBP,EAAeQ,QAAQD,EAAME,KAAO,KAG/C,KAER,CAACX,EAAWE,IAkBf,OAhBAU,qBAAU,YACY,uCAAG,4BAAAC,EAAA,0DACjBT,EAASU,QAASV,EAASW,YADV,gCAESC,aAC1BZ,EAASU,MACTV,EAASW,YACTE,IAAYC,MAAMC,wBALD,QAEbC,EAFa,SAQjBnB,EAAgBmB,GARC,2CAAH,qDAYpBC,KACC,CAACjB,EAASU,MAAOV,EAASW,cAG3B,eAAC,IAAD,CAAKO,MAAM,OAAOC,GAAI,EAAtB,UACE,cAAC,IAAD,CAAWC,WAAW,IACtB,eAAC,IAAD,CAAKC,GAAI,EAAGC,GAAI,EAAGC,UAAU,8BAA7B,UACE,cAAC,IAAD,CACEA,UAAS,uBACU,IAAjB7B,EAAqB,eAAiB,iBAExC8B,QAAS,kBAAM7B,EAAgB,IAJjC,SAME,mBAAG4B,UAAU,aAAb,SAA2BhC,EAAE,kBAE/B,cAAC,IAAD,CACEgC,UAAS,uBACU,IAAjB7B,EAAqB,eAAiB,iBAExC8B,QAAS,kBAAM7B,EAAgB,IAJjC,SAME,mBAAG4B,UAAU,aAAb,SAA2BhC,EAAE,kBAE/B,cAAC,IAAD,CACEgC,UAAS,uBACU,IAAjB7B,EAAqB,eAAiB,iBAExC8B,QAAS,kBAAM7B,EAAgB,IAJjC,SAME,mBAAG4B,UAAU,aAAb,SAA2BhC,EAAE,qBAGjC,cAAC,IAAD,CAAKgC,UAAU,QAAf,SACG3B,GAAkC,MAArBA,EAAU6B,OACtB,cAAC,IAAD,CAAaC,KAAuB,IAAjBhC,EAAqBE,EAAYM,IAEpD,cAAC,IAAD,CAAUyB,QAAQ,OAAOT,MAAM,OAAOU,OAAQ","file":"static/js/17.b46132ca.chunk.js","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { Box } from '@material-ui/core';\r\nimport { TopMovers, TokensTable } from 'components';\r\nimport { useBookmarkTokens, useEthPrice } from 'state/application/hooks';\r\nimport { getTopTokens } from 'utils';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { GlobalConst } from 'constants/index';\r\n\r\nconst AnalyticsTokens: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  const [tokensFilter, setTokensFilter] = useState(0);\r\n\r\n  const [topTokens, updateTopTokens] = useState<any[] | null>(null);\r\n  const { bookmarkTokens } = useBookmarkTokens();\r\n  const { ethPrice } = useEthPrice();\r\n\r\n  const favoriteTokens = useMemo(() => {\r\n    if (topTokens) {\r\n      return topTokens.filter(\r\n        (token: any) => bookmarkTokens.indexOf(token.id) > -1,\r\n      );\r\n    } else {\r\n      return [];\r\n    }\r\n  }, [topTokens, bookmarkTokens]);\r\n\r\n  useEffect(() => {\r\n    const fetchTopTokens = async () => {\r\n      if (ethPrice.price && ethPrice.oneDayPrice) {\r\n        const topTokensData = await getTopTokens(\r\n          ethPrice.price,\r\n          ethPrice.oneDayPrice,\r\n          GlobalConst.utils.ANALYTICS_TOKENS_COUNT,\r\n        );\r\n        if (topTokensData) {\r\n          updateTopTokens(topTokensData);\r\n        }\r\n      }\r\n    };\r\n    fetchTopTokens();\r\n  }, [ethPrice.price, ethPrice.oneDayPrice]);\r\n\r\n  return (\r\n    <Box width='100%' mb={3}>\r\n      <TopMovers hideArrow={true} />\r\n      <Box my={4} px={2} className='flex flex-wrap items-center'>\r\n        <Box\r\n          className={`tokensFilter ${\r\n            tokensFilter === 0 ? 'text-primary' : 'text-disabled'\r\n          }`}\r\n          onClick={() => setTokensFilter(0)}\r\n        >\r\n          <p className='weight-600'>{t('allCryptos')}</p>\r\n        </Box>\r\n        <Box\r\n          className={`tokensFilter ${\r\n            tokensFilter === 1 ? 'text-primary' : 'text-disabled'\r\n          }`}\r\n          onClick={() => setTokensFilter(1)}\r\n        >\r\n          <p className='weight-600'>{t('favourites')}</p>\r\n        </Box>\r\n        <Box\r\n          className={`tokensFilter ${\r\n            tokensFilter === 2 ? 'text-primary' : 'text-disabled'\r\n          }`}\r\n          onClick={() => setTokensFilter(2)}\r\n        >\r\n          <p className='weight-600'>{t('newListing')}</p>\r\n        </Box>\r\n      </Box>\r\n      <Box className='panel'>\r\n        {topTokens && topTokens.length === 200 ? (\r\n          <TokensTable data={tokensFilter === 0 ? topTokens : favoriteTokens} />\r\n        ) : (\r\n          <Skeleton variant='rect' width='100%' height={150} />\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AnalyticsTokens;\r\n"],"sourceRoot":""}